{% extends "base.html" %}

{% block content %}
<!-- data -->
<section class="section pb-0">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h2 class="section-title text-primary">Results</h2>
        <!-- Top 3 Movers -->
        <div class="row">
          <div class="col-12 mb-3">
            <h4 class="text-danger">Top 3 Gainers</h4>
          </div>
          {% for stock in top_3 %}
          <div class="col-12 col-md-4 mb-4">
            <div class="card h-100 shadow-sm border-danger position-relative">
              <div class="card-body">
                <h5 class="card-title text-danger">{{ stock.stock_name }}</h5>
                <p class="card-text">
                  Price: {{ "{:,}".format(stock.current_price) if stock.current_price else '-' }}<br>
                  Change: <span class="text-danger">{{ "{:+.2f}%".format(stock.daily_change_rate) if
                    stock.daily_change_rate else '-' }}</span>
                </p>
                <a href="/data.html?q={{ stock.stock_name }}" class="stretched-link"></a>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>

        <!-- Bottom 3 Movers -->
        <div class="row mt-4">
          <div class="col-12 mb-3">
            <h4 class="text-primary">Top 3 Losers</h4>
          </div>
          {% for stock in bottom_3 %}
          <div class="col-12 col-md-4 mb-4">
            <div class="card h-100 shadow-sm border-primary position-relative">
              <div class="card-body">
                <h5 class="card-title text-primary">{{ stock.stock_name }}</h5>
                <p class="card-text">
                  Price: {{ "{:,}".format(stock.current_price) if stock.current_price else '-' }}<br>
                  Change: <span class="text-primary">{{ "{:+.2f}%".format(stock.daily_change_rate) if
                    stock.daily_change_rate else '-' }}</span>
                </p>
                <a href="/data.html?q={{ stock.stock_name }}" class="stretched-link"></a>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</section>
<!-- /data -->
{% endblock %}